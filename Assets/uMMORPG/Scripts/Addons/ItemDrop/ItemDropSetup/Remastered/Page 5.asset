%YAML 1.1
%TAG !u! tag:unity3d.com,2011:
--- !u!114 &11400000
MonoBehaviour:
  m_ObjectHideFlags: 0
  m_CorrespondingSourceObject: {fileID: 0}
  m_PrefabInstance: {fileID: 0}
  m_PrefabAsset: {fileID: 0}
  m_GameObject: {fileID: 0}
  m_Enabled: 1
  m_EditorHideFlags: 0
  m_Script: {fileID: 11500000, guid: c0ccb5b9faa8a514fb2e7bf037bb48a3, type: 3}
  m_Name: Page 5
  m_EditorClassIdentifier: 
  title: Step 7
  description: 
  path: Assets/uMMORPG/Scripts
  fileName: Player.cs
  text:
  - installed: 0
    search: "if (state == \"IDLE\" || state == \"MOVING\")\r\n        {\r\n           
      if (isLocalPlayer)\r\n            {\r\n                // cancel action if
      escape key was pressed\r\n                if (Input.GetKeyDown(cancelActionKey))\r\n               
      {\r\n                    // reset locally because we use rubberband movement\r\n                   
      movement.Reset();\r\n                    CmdCancelAction();\r\n               
      }"
    replace: "UpdateClient_HighlightLoot();\r\n\r\n        if (state == \"IDLE\"
      || state == \"MOVING\")\r\n        {\r\n            if (isLocalPlayer)\r\n           
      {\r\n                // cancel action if escape key was pressed\r\n               
      /*\r\n                if (Input.GetKeyDown(cancelActionKey))\r\n               
      {\r\n                    // reset locally because we use rubberband movement\r\n                   
      movement.Reset();\r\n                    CmdCancelAction();\r\n               
      }\r\n                */\r\n                if (Input.GetKeyDown(cancelActionKey))\r\n               
      {\r\n                    CancelAction();\r\n                }\r\n\r\n               
      if (Input.GetKeyDown(ItemDropSettings.Settings.itemPickupKey))\r\n               
      {\r\n                    if (!Utils.IsCursorOverUserInterface() && Input.touchCount
      <= 1)\r\n                    {\r\n                        FindNearestItem();\r\n                   
      }\r\n                }\r\n\r\n                if (EventMoveEnd())\r\n               
      {\r\n                    if (targetItem != null)\r\n                    {\r\n                       
      // check distance between character and target item\r\n                       
      if (AddonItemDrop.ClosestDistance(this, targetItem) <= 1.5f)\r\n                       
      {\r\n                            ItemPickup(targetItem);\r\n                       
      }\r\n                    }\r\n                }"
  - installed: 0
    search: "public override void OnDeath()\r\n    {\r\n        // take care of entity
      stuff\r\n        base.OnDeath();\r\n\r\n        // reset movement and navigation\r\n       
      movement.Reset();\r\n    }"
    replace: "public override void OnDeath()\r\n    {\r\n        // take care of
      entity stuff\r\n        base.OnDeath();\r\n\r\n        // reset movement and
      navigation\r\n        movement.Reset();\r\n\r\n        OnDeath_ItemDrop();\r\n   
      }"
